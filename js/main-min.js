const deckCards=["attentive-min.jpg","attentive-min.jpg","beautiful-min.jpg","beautiful-min.jpg","brilliant-min.jpg","brilliant-min.jpg","ingenious-min.jpg","ingenious-min.jpg","loving-min.jpg","loving-min.jpg","passionate-min.jpg","passionate-min.jpg","romantic-min.jpg","romantic-min.jpg","sexual-min.jpg","sexual-min.jpg"],deck=document.querySelector(".deck");let opened=[],matched=[];const bodyLock=document.querySelector("body"),modal=document.getElementById("modal"),overModal=document.getElementById("overModal"),reset=document.querySelector(".reset-btn"),playAgain=document.querySelector(".play-again-btn"),playAgainOver=document.querySelector(".play-overAgain-btn"),movesCount=document.querySelector(".moves-counter");let moves=0;const star=document.getElementById("star-rating").querySelectorAll(".star");let starCount=3;const timeCounter=document.querySelector(".timer");let time,minutes=0,seconds=0,timeStart=!1;function shuffle(e){let t,n,o=e.length;for(;0!==o;)n=Math.floor(Math.random()*o),t=e[o-=1],e[o]=e[n],e[n]=t;return e}function startGame(){const e=shuffle(deckCards);for(let t=0;t<e.length;t++){const n=document.createElement("LI");n.classList.add("card");const o=document.createElement("IMG");n.appendChild(o),o.setAttribute("src","img/"+e[t]),o.setAttribute("alt","ingenious Panasenkov"),deck.appendChild(n)}}function removeCard(){for(;deck.hasChildNodes();)deck.removeChild(deck.firstChild)}function timer(){time=setInterval(function(){60===++seconds&&(minutes++,seconds=0),timeCounter.innerHTML="<i class='fa fa-hourglass-start'></i>Timer: "+minutes+" Mins "+seconds+" Secs"},1e3)}function stopTime(){clearInterval(time)}function resetEverything(){stopTime(),timeStart=!1,seconds=0,minutes=0,timeCounter.innerHTML="<i class='fa fa-hourglass-start'></i>Timer: 00:00",star[1].firstElementChild.classList.add("fa-star"),star[2].firstElementChild.classList.add("fa-star"),starCount=3,moves=0,movesCount.innerHTML=0,matched=[],opened=[],removeCard(),startGame()}function movesCounter(){movesCount.innerHTML++,moves++}function starRating(){14===moves&&(star[2].firstElementChild.classList.remove("fa-star"),starCount--),18===moves&&(star[1].firstElementChild.classList.remove("fa-star"),starCount--)}function compareTwo(){2===opened.length&&(document.body.style.pointerEvents="none"),2===opened.length&&opened[0].src===opened[1].src?match():2===opened.length&&opened[0].src!=opened[1].src&&noMatch()}function match(){setTimeout(function(){opened[0].parentElement.classList.add("match"),opened[1].parentElement.classList.add("match"),matched.push(...opened),document.body.style.pointerEvents="auto",winGame(),opened=[]},600),movesCounter(),starRating()}function noMatch(){setTimeout(function(){opened[0].parentElement.classList.remove("flip"),opened[1].parentElement.classList.remove("flip"),document.body.style.pointerEvents="auto",overGame(),opened=[]},700),movesCounter(),starRating()}function AddStats(){const e=document.querySelector(".modal-content");for(let t=1;t<=3;t++){const t=document.createElement("p");t.classList.add("stats"),e.appendChild(t)}let t=e.querySelectorAll("p.stats");t[0].innerHTML="Time to complite: "+minutes+" Minutes and "+seconds+" Seconds",t[1].innerHTML="Moves Taken: "+moves,t[2].innerHTML="Your Star Rating is: "+starCount+" out of 3"}function displayModal(){const e=document.getElementsByClassName("close")[0];modal.style.display="block",e.onclick=function(){modal.style.display="none"},window.onclick=function(e){e.target==modal&&(modal.style.display="none")}}function displayOverModal(){const e=document.getElementsByClassName("closeOver")[0];overModal.style.display="block",e.onclick=function(){overModal.style.display="none"},window.onclick=function(e){e.target==overModal&&(overModal.style.display="none")}}function winGame(){16===matched.length&&(stopTime(),AddStats(),displayModal())}function overGame(){moves>=15&&(stopTime(),AddStats(),displayOverModal())}startGame(),deck.addEventListener("click",function(e){"LI"===e.target.nodeName&&(console.log(e.target.nodeName+" Was clicked"),!1===timeStart&&(timeStart=!0,timer()),e.target.classList.add("flip"),0!==opened.length&&1!==opened.length||opened.push(e.target.firstElementChild),compareTwo())}),reset.addEventListener("click",resetEverything),playAgain.addEventListener("click",function(){modal.style.display="none",resetEverything()}),playAgainOver.addEventListener("click",function(){overModal.style.display="none",resetEverything()});